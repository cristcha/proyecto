<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Agregar</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="container">
      <h1 class='text-center'>Editar Pel√≠cula</h1>
      <div class="row">
        <div class='col-2'>
          <figure>
            <img src="{{ pelicula.poster.url }}" alt="Poster {{ pelicula.nombre }}" width='500'>
          </figure>
        </div>
        <div class="col-4 mx-auto">
          <form action="#" method="post" class='mb-5' autocomplete='off' enctype="multipart/form-data">
            {% csrf_token %}
            <div class="mb-3">
              <label for="poster" class="form-label">Cambiar Poster</label>
              <input class="form-control" type="file" id="poster" name='poster' required/>
            </div>
            <div class="mb-3">
                <label for="nombre" class="form-label">Nombre</label>
                <input type="text" class="form-control" id="nombre" name='nombre' value='{{ pelicula.nombre }}' required>
            </div>
            <div class="mb-3">
                <label for="sinopsis" class="form-label">Sin&oacute;psis</label>
                <textarea class='form-control' name="sinopsis" id="sinopsis" required>{{ pelicula.sinopsis }}</textarea>
            </div>
            <div class="mb-3">
                <label for="reparto" class="form-label">Reparto</label>
                <input type="text" class="form-control" id="reparto" name='reparto' value='{{ pelicula.reparto }}'>
            </div>
            <div class="mb-3">
                <label for="director" class="form-label">Director</label>
                <input type="text" class="form-control" id="director" name='director' value='{{ pelicula.director }}'>
            </div>
            <div class="mb-3">
                <label for="fecha_estreno" class="form-label">Fecha Estreno</label>
                <input type="date" class="form-control" id="fecha_estreno" name='fecha_estreno' value='{{ pelicula.fecha_estreno|date:"Y-m-d" }}' required>
            </div>
            <div class="mb-3">
                <label for="trailer" class="form-label">Trailer (Url Youtube)</label>
                <input type="text" class="form-control" id="trailer" name='trailer' value='{{ pelicula.trailer }}'>
            </div>
            <div class="mb-3">
                <label for="duracion" class="form-label">Duraci&oacute;n (minutos)</label>
                <input type="number" class="form-control" id="duracion" name='duracion' min='10' value='{{ pelicula.duracion }}'>
            </div>
            <div class='mb-3'>
                <label for="genero" class='form-label'>G&eacute;nero</label>
                <select name="genero" id="genero" class='form-select'>
                    {% for genero in generos %}
                        <option value="{{ genero.id_genero }}"
                        
                        {% if genero.nombre == pelicula.id_genero.nombre %} selected {% endif %}
                        
                        >{{ genero.nombre }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class='mb-3'>
                <label for="clasificacion" class='form-label'>Clasificaci&oacute;n</label>
                <select name="clasificacion" id="clasificacion" class='form-select'>
                    {% for clasificacion in clasificaciones %}
                        <option value="{{ clasificacion.id_clasificacion }}"
                        
                        {% if clasificacion.nombre == pelicula.id_clasificacion.nombre %} selected {% endif %}

                        >{{ clasificacion.nombre }}</option>
                    {% endfor %}
                </select>
            </div>
              <button type="submit" class="btn btn-primary">Actualizar</button>            
              <a class='btn btn-danger' href="{% url "listarPeliculas" %}">Cancelar</a>
          </form>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
